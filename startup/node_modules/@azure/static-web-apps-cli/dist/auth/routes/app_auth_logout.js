"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("../../core/utils");
const SWA_CLI_HOST = "http://localhost:" + process.env.SWA_CLI_PORT;
const httpTrigger = async function (context, req) {
    const { post_logout_redirect_uri } = req.query;
    context.res = utils_1.response({
        context,
        status: 302,
        cookies: [
            {
                name: "StaticWebAppsAuthCookie",
                value: "deleted",
                path: "/",
                HttpOnly: false,
                domain: "localhost",
                expires: new Date(1).toUTCString(),
            },
        ],
        headers: {
            location: `${SWA_CLI_HOST}${post_logout_redirect_uri || ""}`,
        },
    });
};
exports.default = httpTrigger;
//# sourceMappingURL=app_auth_logout.js.map