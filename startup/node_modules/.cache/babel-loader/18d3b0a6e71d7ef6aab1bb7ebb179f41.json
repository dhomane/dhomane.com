{"ast":null,"code":"import _toConsumableArray from\"/var/www/html/startup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/var/www/html/startup/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import CharacterBase from\"@/components/Character/base\";import{Container}from\"./styles\";import get from\"lodash-es/get\";import shuffle from\"lodash-es/shuffle\";import characterLooks from\"./character-looks\";import useInterval from\"@/hooks/use-interval\";var characters=shuffle(characterLooks);var initialCharacter=characters[0];var CharacterRandomizer=function CharacterRandomizer(_ref){var _ref$running=_ref.running,running=_ref$running===void 0?true:_ref$running;var _useState=useState(initialCharacter),_useState2=_slicedToArray(_useState,2),character=_useState2[0],setCharacter=_useState2[1];var _useState3=useState(characters),_useState4=_slicedToArray(_useState3,2),options=_useState4[0],setOptions=_useState4[1];var getLayer=function getLayer(obj){var layer=get(obj,\"layer\");var color=get(obj,\"color\");return typeof layer===\"function\"?layer({colors:color?color:undefined}):null;};try{useInterval(function(){var newOptions=_toConsumableArray(options);var newCharacter=newOptions.pop();newOptions.unshift(newCharacter);setOptions(newOptions);setCharacter(newCharacter);},running?1000:null);return React.createElement(Container,{className:\"character-randomizer\"},React.createElement(CharacterBase,{skinColors:get(character,\"skin\")||[]},character.tshirt&&React.createElement(\"g\",{id:\"c-tshirt\"},getLayer(character.tshirt)),character.shirt&&React.createElement(\"g\",{id:\"c-shirt\"},getLayer(character.shirt)),character.jacket&&React.createElement(\"g\",{id:\"c-jacket\"},getLayer(character.jacket)),character.hoodie&&React.createElement(\"g\",{id:\"c-hoodie\"},getLayer(character.hoodie)),character.bottom&&React.createElement(\"g\",{id:\"c-bottom\"},getLayer(character.bottom)),character.shoes&&React.createElement(\"g\",{id:\"c-shoes\"},getLayer(character.shoes)),character.accessories&&character.accessories.map(function(accessory,i){return React.createElement(\"g\",{key:\"accessory$$\"+i,\"data-id\":\"accessory\"},getLayer(accessory));}),character.hair&&React.createElement(\"g\",{id:\"c-hair\"},getLayer(character.hair)),character.facialHair&&React.createElement(\"g\",{id:\"c-facial-hair\"},getLayer(character.facialHair)),character.eyewear&&React.createElement(\"g\",{id:\"c-eyewear\"},getLayer(character.eyewear))));}catch(e){console.error(e);return null;}};export default CharacterRandomizer;","map":{"version":3,"sources":["/var/www/html/startup/src/components/CharacterRandomizer/index.tsx"],"names":["React","useState","CharacterBase","Container","get","shuffle","characterLooks","useInterval","characters","initialCharacter","CharacterRandomizer","running","character","setCharacter","options","setOptions","getLayer","obj","layer","color","colors","undefined","newOptions","newCharacter","pop","unshift","tshirt","shirt","jacket","hoodie","bottom","shoes","accessories","map","accessory","i","hair","facialHair","eyewear","e","console","error"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport CharacterBase from \"@/components/Character/base\";\nimport { Container } from \"./styles\";\n\nimport get from \"lodash-es/get\";\nimport shuffle from \"lodash-es/shuffle\";\n\nimport characterLooks from \"./character-looks\";\nimport useInterval from \"@/hooks/use-interval\";\nimport { Colors } from \"@/interfaces/Colors\";\n\nconst characters = shuffle(characterLooks);\nconst initialCharacter = characters[0];\n\nconst CharacterRandomizer = ({ running = true }) => {\n\tconst [character, setCharacter] = useState(initialCharacter);\n\tconst [options, setOptions] = useState(characters);\n\n\tconst getLayer = (obj: { layer: Function; color: Colors | null }) => {\n\t\tconst layer = get(obj, \"layer\");\n\t\tconst color = get(obj, \"color\");\n\t\treturn typeof layer === \"function\" ? layer({ colors: color ? color : undefined }) : null;\n\t};\n\n\ttry {\n\t\tuseInterval(\n\t\t\t() => {\n\t\t\t\tconst newOptions = [...options];\n\t\t\t\tconst newCharacter = newOptions.pop();\n\t\t\t\tnewOptions.unshift(newCharacter);\n\n\t\t\t\tsetOptions(newOptions);\n\t\t\t\tsetCharacter(newCharacter);\n\t\t\t},\n\t\t\trunning ? 1000 : null\n\t\t);\n\n\t\treturn (\n\t\t\t<Container className=\"character-randomizer\">\n\t\t\t\t<CharacterBase skinColors={get(character, \"skin\") || []}>\n\t\t\t\t\t{character.tshirt && <g id=\"c-tshirt\">{getLayer(character.tshirt)}</g>}\n\t\t\t\t\t{character.shirt && <g id=\"c-shirt\">{getLayer(character.shirt)}</g>}\n\t\t\t\t\t{character.jacket && <g id=\"c-jacket\">{getLayer(character.jacket)}</g>}\n\t\t\t\t\t{character.hoodie && <g id=\"c-hoodie\">{getLayer(character.hoodie)}</g>}\n\t\t\t\t\t{character.bottom && <g id=\"c-bottom\">{getLayer(character.bottom)}</g>}\n\t\t\t\t\t{character.shoes && <g id=\"c-shoes\">{getLayer(character.shoes)}</g>}\n\t\t\t\t\t{character.accessories &&\n\t\t\t\t\t\tcharacter.accessories.map((accessory: any, i: number) => (\n\t\t\t\t\t\t\t<g key={\"accessory$$\" + i} data-id=\"accessory\">\n\t\t\t\t\t\t\t\t{getLayer(accessory)}\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t))}\n\t\t\t\t\t{character.hair && <g id=\"c-hair\">{getLayer(character.hair)}</g>}\n\t\t\t\t\t{character.facialHair && <g id=\"c-facial-hair\">{getLayer(character.facialHair)}</g>}\n\t\t\t\t\t{character.eyewear && <g id=\"c-eyewear\">{getLayer(character.eyewear)}</g>}\n\t\t\t\t</CharacterBase>\n\t\t\t</Container>\n\t\t);\n\t} catch (e) {\n\t\tconsole.error(e);\n\t\treturn null;\n\t}\n};\n\nexport default CharacterRandomizer;\n"]},"metadata":{},"sourceType":"module"}